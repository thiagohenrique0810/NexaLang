
# Define String and its destructor
struct String {
    ptr: *u8,
    len: i32,
    cap: i32
}

# Destructor convention: {TypeName}_drop
fn String_drop(s: String) {
    print("Dropping String... ");
    # In real code: free(s.ptr);
    print(s.ptr); # Print the string content to show which one is dropped
}

fn string_from(s: *u8) -> String {
    # Mocking string creation for test
    # Just returning pointer, no malloc here for simplicity of test output
    return String(s, 0, 0); 
}

fn test_scope() {
    print("Entering scope");
    let s1: String = string_from("Inner");
    print("Inside scope");
} # s1 should drop here

fn main() {
    let s2: String = string_from("Outer");
    
    test_scope();
    
    print("Back in main");
} # s2 should drop here
